import numpy as np
from pyprima.common.linalg import inv
import debugpy

np.set_printoptions(precision=16, floatmode='fixed', suppress=False)

# if input("Type Y to debug, ENTER to continue: ") == 'Y':
#     print("Waiting for debugger to attach...")
#     debugpy.listen(5678)
#     debugpy.wait_for_client()

np.random.seed(0)
A = np.random.random((3,3))
# A = np.zeros((12, 12))

# for i in range(12):
#     A[0, i] = i + 1
# for j in range(1, 12):
#     A[j] = A[j-1]
# for i in range(12):
#     A[i, 11-i] = 0
print(A)
print(np.linalg.det(A))
# print(np.linalg.inv(A))
# debugpy.breakpoint()
Bmine = inv(A.copy())
Bnumpy = np.linalg.inv(A)
print(Bmine - Bnumpy)

# [-2.75236387645919705846608849242329597473144531250000000e+02
#  -3.30258202677836537608513367558771278709173202514648438e-02
#  -2.60292652305317805117024221317478804849088191986083984e-02
#  -1.03938739868627205709117333753965795040130615234375000e+00
#  -3.51264910543025277167572539838147349655628204345703125e-01
#  -2.75319715006458878292505687568336725234985351562500000e+01
#  -1.45491044079348375817062333226203918457031250000000000e+04
#  -7.59857225741902017034590244293212890625000000000000000e+05
#  -4.13219084514259904494792863260954618453979492187500000e+01
#  -1.35727092186378417768093977637151870130338693343219347e-08
#   6.19213967364305863156914710998535156250000000000000000e+04
#   1.32533105409530166383925864240049541376009756277198903e-08]
# [-1.68916879926685368218386429361999034881591796875000000e+02
#   2.67300378078544828563956059497286332771182060241699219e-02
#   7.12995373010534040647545594993061968125402927398681641e-03
#   2.01316482671386376424038644472602754831314086914062500e+00
#  -9.45194914791982032653550049872137606143951416015625000e-01
#   6.40995497017158211150444913073442876338958740234375000e+00
#  -8.75828268959940942295361310243606567382812500000000000e+03
#   4.78377892933179857209324836730957031250000000000000000e+05
#  -2.57636486629565013117826310917735099792480468750000000e+02
#   4.26464824204714732011064571085001695394112175563350320e-07
#   5.44144248112333225435577332973480224609375000000000000e+04
#  -4.26284063282236404940610946523449342748790513724088669e-07]
# [-1.79266743124217331484260284923948347568511962890625000e+00
#   1.18679048349766506215141603775009571108967065811157227e-02
#  -2.26948117405421055658987228298428817652165889739990234e-02
#   8.44028992744987993646077484299894422292709350585937500e-01
#   1.65154263578907778420301610822207294404506683349609375e-01
#  -1.94759218904803588223728638695320114493370056152343750e+00
#   1.42768190635548726277193054556846618652343750000000000e+04
#   1.55295472709112660959362983703613281250000000000000000e+06
#  -3.86782765420878513396019116044044494628906250000000000e+03
#  -3.01454064493740389813272728680715317750582471489906311e-06
#  -2.71507831270575334201566874980926513671875000000000000e+04
#   3.01202914603102700694657080371374746619039797224104404e-06]
# [ 1.24208516836780916037241695448756217956542968750000000e+02
#  -5.75045921262246073624169184768106788396835327148437500e-03
#   3.47708082917587380997193058362881856737658381462097168e-03
#  -1.52338947815461644985646216809982433915138244628906250e+00
#  -3.85950559914885971135589670666377060115337371826171875e-01
#  -2.94022145387218847290000667271669954061508178710937500e+00
#  -1.53216826856923980813007801771163940429687500000000000e+04
#   2.87612711699984734877943992614746093750000000000000000e+06
#   9.51206475866360676718613831326365470886230468750000000e+01
#  -8.51835695469748415976354513623469699723500525578856468e-07
#  -3.83481842741625267080962657928466796875000000000000000e+05
#   8.51475812958621226865345288370434673197451047599315643e-07]
# [-3.20371478951535152646101778373122215270996093750000000e+02
#   1.41639688833007908880246006333436525892466306686401367e-02
#   3.27582674986352725965410570552194258198142051696777344e-02
#  -2.20952315452089154135251192201394587755203247070312500e+00
#   3.33312928277775533114635209130938164889812469482421875e-01
#   1.61394919871353650364653731230646371841430664062500000e+01
#  -1.01024087264925437921192497014999389648437500000000000e+04
#   2.86856205426727305166423320770263671875000000000000000e+05
#  -8.98673684696424857065721880644559860229492187500000000e+02
#  -5.34338202834764093476348917333140775554056745022535324e-06
#   1.40074836980978511746798176318407058715820312500000000e+03
#   5.34065912334614892250121351291447524545219494029879570e-06]
# [-5.09876216386349412346135068219155073165893554687500000e+01
#  -2.63542784930899994660924434697335527744144201278686523e-03
#  -2.51399461410528324289970214522327296435832977294921875e-02
#   6.81475975441643511132383537187706679105758666992187500e-01
#   2.48740892408481323316848943250079173594713211059570312e-01
#   2.74170246240344006594114034669473767280578613281250000e+01
#  -2.15187796125509958073962479829788208007812500000000000e+04
#   2.78071943791396357119083404541015625000000000000000000e+06
#   4.40356172737426845742447767406702041625976562500000000e+02
#   4.02641835422421341629181656962543911504326388239860535e-06
#   1.78223058897371491184458136558532714843750000000000000e+05
#  -4.02444912037054329675099528795811920645064674317836761e-06]
# [-2.86051101449182169744744896888732910156250000000000000e+02
#  -9.77053447771603810400806167102416566194733604788780212e-05
#  -1.11947531320210503374967814238516439218074083328247070e-02
#   2.23997275019269759255280405341181904077529907226562500e+00
#   3.48932607576893150103103380388347432017326354980468750e-01
#   2.40955831131753628326919169921893626451492309570312500e+00
#   1.63441173790672182803973555564880371093750000000000000e+04
#   1.94363316550956893479451537132263183593750000000000000e+05
#   2.03817412540019654443312902003526687622070312500000000e+03
#   1.27988156343938833764092063288719813840543793048709631e-06
#  -3.02976024858838820364326238632202148437500000000000000e+05
#  -1.27940384613178134293458732689829915329937648493796587e-06]
# [ 1.15818997729596233625670720357447862625122070312500000e+02
#   1.12703741223333124207850453046830807579681277275085449e-03
#   4.21798546158918662846160074764156888704746961593627930e-03
#   2.61218789441259247041671187616884708404541015625000000e+00
#   6.13701335209160050987442502901103580370545387268066406e-02
#   1.18544842965778602916770978481508791446685791015625000e+01
#  -2.79720881523781681607943028211593627929687500000000000e+04
#  -2.17164937667809845879673957824707031250000000000000000e+06
#   8.36200741229483668348620994947850704193115234375000000e+01
#  -5.68951954248849095605727876900914452562574297189712524e-06
#  -9.33898483185210934607312083244323730468750000000000000e+04
#   5.68630296168503464440463143758641706426715245470404625e-06]
# [ 4.79238946658743358852916571777313947677612304687500000e+01
#   5.91489250320679713079918826679204357787966728210449219e-03
#   1.19697735179991951448563725080020958557724952697753906e-02
#   7.94627737917767640318800204113358631730079650878906250e-01
#   2.26244097435694901943037393721169792115688323974609375e-01
#  -2.41108225904587740728857170324772596359252929687500000e+01
#  -2.41168676979214023958775214850902557373046875000000000e+03
#   2.50508854610166698694229125976562500000000000000000000e+06
#   2.66767985585901533340802416205406188964843750000000000e+03
#  -5.40057069348209971163064097021688780841941479593515396e-06
#   1.74723260002154711401090025901794433593750000000000000e+05
#   5.39748440515866924219266081985679761601204518228769302e-06]
# [-3.08431611060574155658287054393440485000610351562500000e+01
#  -6.54828368150419184989807774854853050783276557922363281e-03
#   1.13431801987995649338980541642740718089044094085693359e-02
#   1.44274016581032582529076080390950664877891540527343750e+00
#   5.04193256703811876207055320264771580696105957031250000e-01
#  -2.63623976718887185199946543434634804725646972656250000e+01
#  -2.52475128202312771463766694068908691406250000000000000e+04
#   1.55154201332599273882806301116943359375000000000000000e+05
#  -1.94138664675841027928981930017471313476562500000000000e+03
#   4.00428676598855276639070052691060652705346001312136650e-06
#  -5.61613407598229896393604576587677001953125000000000000e+04
#  -4.00182501009659589438034396624566113587206928059458733e-06]
# [ 3.91479298936926412011416687164455652236938476562500000e+01
#   3.27387177966747683344195252175268251448869705200195312e-02
#  -2.87916368627453081452394201278366381302475929260253906e-02
#  -2.10551022254688247059561945206951349973678588867187500e+00
#   2.24290144675719754774334546709724236279726028442382812e-01
#   2.46756667220616154878598536015488207340240478515625000e+00
#  -1.62737159935236104502109810709953308105468750000000000e+04
#  -1.46263394214811129495501518249511718750000000000000000e+06
#   1.18826630533348566132190171629190444946289062500000000e+03
#   1.65204916156191398146917299893932096210846793837845325e-06
#  -6.64766049830698757432401180267333984375000000000000000e+04
#  -1.65203916704949204015146629886956475274928379803895950e-06]
# [ 4.24946360271901539817918092012405395507812500000000000e+03
#   4.23806231477487290248973295092582702636718750000000000e+03
#   4.22666162207404249784303829073905944824218750000000000e+03
#   4.24946360742166416457621380686759948730468750000000000e+03
#   4.23236195725721518101636320352554321289062500000000000e+03
#   4.24946360830693447496742010116577148437500000000000000e+03
#   4.24946307566331142879789695143699645996093750000000000e+03
#   4.24956831633846013573929667472839355468750000000000000e+03
#   4.24946356080193800153210759162902832031250000000000000e+03
#  -2.71827999997485614258607711235526949167251586914062500e+00
#   4.24946300813852121791569516062736511230468750000000000e+03
#   2.71827999997488367611708781623747199773788452148437500e+00]