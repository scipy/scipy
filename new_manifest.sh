#!/bin/sh

# This little script re-generates MANIFEST.in to include files that
# wouldn't otherwise get picked up by distutils. This is relevant when
# building source distributions using "python setup.py sdist", which
# would otherwise leave these files out.

MANIFEST_IN=MANIFEST.in
SANDBOX_DIR="scipy/sandbox"

cat <<EOF > $MANIFEST_IN
# This automatically generated by new_manifest.sh
#
# Note: for files required to build extensions, you probably want to
# place them in the Extension depend list, rather than in this file.
#
include setup.py
include *.txt
include scipy/*.py
#
# The following files are in the sandbox and wouldn't normally get included in sdist:
#
EOF

for i in `svn ls -R $SANDBOX_DIR`; do
  if test -d $SANDBOX_DIR/$i; then
    echo "include $SANDBOX_DIR/$i*" >>  $MANIFEST_IN
  fi
done
